-- Seed direct message conversations
INSERT INTO conversations (id, course_id, student_id, instructor_id, last_message_at, student_last_read_at, instructor_last_read_at, is_archived_by_student, is_archived_by_instructor, created_at, updated_at) VALUES
('00000000-0000-0000-0000-000000000501', NULL, '00000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000003', '2024-03-15 14:30:00', '2024-03-15 14:30:00', '2024-03-15 14:25:00', false, false, '2024-03-10 10:00:00', '2024-03-15 14:30:00'),
('00000000-0000-0000-0000-000000000502', NULL, '00000000-0000-0000-0000-000000000006', '00000000-0000-0000-0000-000000000002', '2024-03-14 16:45:00', '2024-03-14 16:45:00', '2024-03-14 16:45:00', false, false, '2024-03-12 09:00:00', '2024-03-14 16:45:00'),
('00000000-0000-0000-0000-000000000503', NULL, '00000000-0000-0000-0000-000000000006', '00000000-0000-0000-0000-000000000003', '2024-03-15 11:20:00', '2024-03-15 11:20:00', '2024-03-15 11:15:00', false, false, '2024-03-11 14:00:00', '2024-03-15 11:20:00')
ON CONFLICT (id) DO NOTHING;

-- Seed direct messages
INSERT INTO direct_messages (id, conversation_id, sender_id, content, status, created_at, updated_at) VALUES
-- Admin <-> Instructor1
('00000000-0000-0000-0000-000000000601', '00000000-0000-0000-0000-000000000501', '00000000-0000-0000-0000-000000000002', 'Xin chào thầy John, tôi muốn hỏi về lịch dạy tuần tới.', 'read', '2024-03-10 10:00:00', '2024-03-10 10:00:00'),
('00000000-0000-0000-0000-000000000602', '00000000-0000-0000-0000-000000000501', '00000000-0000-0000-0000-000000000003', 'Chào Admin! Tuần tới tôi có lịch dạy React vào thứ 2, 4, 6 từ 8h-10h ạ.', 'read', '2024-03-10 10:10:00', '2024-03-10 10:10:00'),
('00000000-0000-0000-0000-000000000603', '00000000-0000-0000-0000-000000000501', '00000000-0000-0000-0000-000000000002', 'Được rồi, cảm ơn thầy. Tôi sẽ cập nhật vào hệ thống.', 'read', '2024-03-10 10:20:00', '2024-03-10 10:20:00'),
('00000000-0000-0000-0000-000000000604', '00000000-0000-0000-0000-000000000501', '00000000-0000-0000-0000-000000000003', 'Admin ơi, tôi có thể bổ sung thêm 1 buổi vào thứ 7 được không?', 'read', '2024-03-15 14:10:00', '2024-03-15 14:10:00'),
('00000000-0000-0000-0000-000000000605', '00000000-0000-0000-0000-000000000501', '00000000-0000-0000-0000-000000000002', 'Để tôi kiểm tra phòng học thứ 7 nhé. Thầy muốn dạy khung giờ nào?', 'read', '2024-03-15 14:20:00', '2024-03-15 14:20:00'),
('00000000-0000-0000-0000-000000000606', '00000000-0000-0000-0000-000000000501', '00000000-0000-0000-0000-000000000003', 'Từ 9h-11h thì tốt nhất ạ. Cảm ơn Admin!', 'sent', '2024-03-15 14:30:00', '2024-03-15 14:30:00'),
-- Admin <-> Student1
('00000000-0000-0000-0000-000000000607', '00000000-0000-0000-0000-000000000502', '00000000-0000-0000-0000-000000000006', 'Em chào Admin, em muốn hỏi về cách reset mật khẩu tài khoản ạ.', 'read', '2024-03-12 09:00:00', '2024-03-12 09:00:00'),
('00000000-0000-0000-0000-000000000608', '00000000-0000-0000-0000-000000000502', '00000000-0000-0000-0000-000000000002', 'Chào Alice! Em có thể vào trang Quên mật khẩu để reset nhé. Hoặc Admin có thể reset giúp em.', 'read', '2024-03-12 09:15:00', '2024-03-12 09:15:00'),
('00000000-0000-0000-0000-000000000609', '00000000-0000-0000-0000-000000000502', '00000000-0000-0000-0000-000000000006', 'Dạ em đã thử nhưng không nhận được email. Admin reset giúp em được không ạ?', 'read', '2024-03-12 09:25:00', '2024-03-12 09:25:00'),
('00000000-0000-0000-0000-000000000610', '00000000-0000-0000-0000-000000000502', '00000000-0000-0000-0000-000000000002', 'OK, Admin đã reset mật khẩu mới cho em là: NewPass123! Em đăng nhập và đổi mật khẩu mới nhé.', 'read', '2024-03-12 09:35:00', '2024-03-12 09:35:00'),
('00000000-0000-0000-0000-000000000611', '00000000-0000-0000-0000-000000000502', '00000000-0000-0000-0000-000000000006', 'Em cảm ơn Admin nhiều ạ!', 'read', '2024-03-14 16:45:00', '2024-03-14 16:45:00'),
-- Instructor1 <-> Student1
('00000000-0000-0000-0000-000000000612', '00000000-0000-0000-0000-000000000503', '00000000-0000-0000-0000-000000000006', 'Em chào thầy John! Em có câu hỏi về bài tập React Hooks ạ.', 'read', '2024-03-11 14:00:00', '2024-03-11 14:00:00'),
('00000000-0000-0000-0000-000000000613', '00000000-0000-0000-0000-000000000503', '00000000-0000-0000-0000-000000000003', 'Chào Alice! Em cứ hỏi đi, thầy sẽ giải đáp cho em.', 'read', '2024-03-11 14:15:00', '2024-03-11 14:15:00'),
('00000000-0000-0000-0000-000000000614', '00000000-0000-0000-0000-000000000503', '00000000-0000-0000-0000-000000000006', 'Em không hiểu lắm về useEffect cleanup function. Khi nào thì nên sử dụng ạ?', 'read', '2024-03-11 14:25:00', '2024-03-11 14:25:00'),
('00000000-0000-0000-0000-000000000615', '00000000-0000-0000-0000-000000000503', '00000000-0000-0000-0000-000000000003', 'Cleanup function dùng để dọn dẹp các side effects như event listeners, timers, hoặc subscriptions khi component unmount hoặc trước khi effect chạy lại.', 'read', '2024-03-11 14:35:00', '2024-03-11 14:35:00'),
('00000000-0000-0000-0000-000000000616', '00000000-0000-0000-0000-000000000503', '00000000-0000-0000-0000-000000000003', 'Ví dụ: nếu em addEventListener thì cần removeEventListener trong cleanup. Tránh memory leak.', 'read', '2024-03-11 14:40:00', '2024-03-11 14:40:00'),
('00000000-0000-0000-0000-000000000617', '00000000-0000-0000-0000-000000000503', '00000000-0000-0000-0000-000000000006', 'Em hiểu rồi ạ! Cảm ơn thầy rất nhiều. Em sẽ thử áp dụng vào bài tập.', 'read', '2024-03-11 14:50:00', '2024-03-11 14:50:00'),
('00000000-0000-0000-0000-000000000618', '00000000-0000-0000-0000-000000000503', '00000000-0000-0000-0000-000000000006', 'Thầy ơi, em đã làm xong bài tập rồi ạ. Thầy review giúp em với!', 'read', '2024-03-15 11:10:00', '2024-03-15 11:10:00'),
('00000000-0000-0000-0000-000000000619', '00000000-0000-0000-0000-000000000503', '00000000-0000-0000-0000-000000000003', 'Tốt lắm Alice! Em gửi link Github cho thầy nhé, thầy sẽ review và feedback.', 'read', '2024-03-15 11:15:00', '2024-03-15 11:15:00'),
('00000000-0000-0000-0000-000000000620', '00000000-0000-0000-0000-000000000503', '00000000-0000-0000-0000-000000000006', 'Đây ạ thầy: https://github.com/alice/react-hooks-practice', 'sent', '2024-03-15 11:20:00', '2024-03-15 11:20:00')
ON CONFLICT (id) DO NOTHING;
