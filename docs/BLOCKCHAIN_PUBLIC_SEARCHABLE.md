# üåê Blockchain C√¥ng Khai - Search/Verify Tr√™n M·ªçi N·ªÅn T·∫£ng

## üéØ Y√™u C·∫ßu: Search/Verify ƒê∆∞·ª£c Tr√™n M·ªçi N·ªÅn T·∫£ng

N·∫øu b·∫°n c·∫ßn certificates c√≥ th·ªÉ **search/verify c√¥ng khai** tr√™n c√°c blockchain explorers v√† NFT marketplaces, b·∫°n **PH·∫¢I** d√πng **Public Blockchains**.

---

## ‚ö†Ô∏è **QUAN TR·ªåNG: M·ªói Blockchain L√† Ri√™ng Bi·ªát**

### **Hi·ªÉu ƒê√∫ng V·ªÅ Blockchain Networks:**

M·ªói blockchain l√† m·ªôt **network ri√™ng bi·ªát**, kh√¥ng th·ªÉ search cross-chain:

- ‚úÖ **Ethereum** ‚Üí Ch·ªâ search ƒë∆∞·ª£c tr√™n **Etherscan** (etherscan.io)
- ‚úÖ **Polygon** ‚Üí Ch·ªâ search ƒë∆∞·ª£c tr√™n **Polygonscan** (polygonscan.com)
- ‚úÖ **Base** ‚Üí Ch·ªâ search ƒë∆∞·ª£c tr√™n **Basescan** (basescan.org)
- ‚úÖ **Arbitrum** ‚Üí Ch·ªâ search ƒë∆∞·ª£c tr√™n **Arbiscan** (arbiscan.io)

**V√≠ d·ª•:**
- N·∫øu b·∫°n deploy contract l√™n **Ethereum**, b·∫°n **KH√îNG TH·ªÇ** search n√≥ tr√™n Polygonscan
- N·∫øu b·∫°n deploy l√™n **Polygon**, b·∫°n **KH√îNG TH·ªÇ** search n√≥ tr√™n Etherscan

### **NH∆ØNG C√≥ N·ªÅn T·∫£ng ƒêa Chain (Multi-Chain):**

M·ªôt s·ªë n·ªÅn t·∫£ng h·ªó tr·ª£ **nhi·ªÅu chains** v√† c√≥ th·ªÉ view t·ª´ nhi·ªÅu networks:

- ‚úÖ **OpenSea** - H·ªó tr·ª£ Ethereum, Polygon, Base, Arbitrum, Optimism, Klaytn, Solana
- ‚úÖ **Rarible** - H·ªó tr·ª£ nhi·ªÅu chains
- ‚úÖ **LooksRare** - H·ªó tr·ª£ Ethereum v√† Polygon

**L∆∞u √Ω:** D√π OpenSea h·ªó tr·ª£ nhi·ªÅu chains, nh∆∞ng:
- Ethereum NFTs ch·ªâ view ƒë∆∞·ª£c tr√™n OpenSea v·ªõi filter "Ethereum"
- Polygon NFTs ch·ªâ view ƒë∆∞·ª£c tr√™n OpenSea v·ªõi filter "Polygon"
- V·∫´n l√† **ri√™ng bi·ªát**, ch·ªâ l√† c√πng m·ªôt UI

---

## üéØ **Gi·∫£i Ph√°p N·∫øu Mu·ªën Search ƒê∆∞·ª£c Nhi·ªÅu N∆°i:**

### **Option 1: Ch·ªçn 1 Blockchain Ph·ªï Bi·∫øn Nh·∫•t** ‚≠ê (Recommended)

**Polygon Mainnet** - Best choice v√¨:
- ‚úÖ Gas fees th·∫•p nh·∫•t (~$0.01)
- ‚úÖ ƒê∆∞·ª£c support b·ªüi h·∫ßu h·∫øt platforms:
  - Polygonscan (native explorer)
  - OpenSea (NFT marketplace)
  - Rarible, LooksRare
  - MetaMask, WalletConnect
- ‚úÖ Ph·ªï bi·∫øn nh·∫•t cho NFTs v√† certificates

**K·∫øt qu·∫£:** Certificates c√≥ th·ªÉ search tr√™n Polygonscan v√† view tr√™n OpenSea (Polygon network)

---

### **Option 2: Deploy Tr√™n Nhi·ªÅu Chains** (Ph·ª©c t·∫°p h∆°n)

N·∫øu mu·ªën c√≥ certificates tr√™n **c·∫£ Ethereum V√Ä Polygon**:

1. Deploy contract tr√™n **Ethereum** ‚Üí Search tr√™n Etherscan
2. Deploy contract tr√™n **Polygon** ‚Üí Search tr√™n Polygonscan
3. Sync data gi·ªØa 2 chains (ph·ª©c t·∫°p)

**Nh∆∞·ª£c ƒëi·ªÉm:**
- ‚ùå T·ªën g·∫•p ƒë√¥i gas fees
- ‚ùå Ph·ª©c t·∫°p h∆°n v·ªÅ technical
- ‚ùå C·∫ßn maintain 2 contracts

**Kh√¥ng recommend** tr·ª´ khi c√≥ y√™u c·∫ßu ƒë·∫∑c bi·ªát.

---

### **Option 3: D√πng Cross-Chain Bridge** (Advanced)

C√≥ th·ªÉ bridge NFTs t·ª´ chain n√†y sang chain kh√°c, nh∆∞ng:
- ‚ùå Ph·ª©c t·∫°p v√† t·ªën k√©m
- ‚ùå Kh√¥ng ph·∫£i l√† gi·∫£i ph√°p t·ªët cho certificates
- ‚ùå Ch·ªâ n√™n d√πng n·∫øu th·ª±c s·ª± c·∫ßn

---

## üí° **Recommendation:**

**Ch·ªçn 1 blockchain ph·ªï bi·∫øn nh·∫•t v√† stick v·ªõi n√≥:**

### **Polygon Mainnet** ‚≠ê‚≠ê‚≠ê (Best Choice)

**L√Ω do:**
1. ‚úÖ **Gas fees th·∫•p nh·∫•t** - Ch·ªâ ~$0.01 per certificate
2. ‚úÖ **ƒê∆∞·ª£c support r·ªông r√£i**:
   - Polygonscan (native explorer)
   - OpenSea (largest NFT marketplace)
   - MetaMask, WalletConnect
   - H·∫ßu h·∫øt c√°c platforms
3. ‚úÖ **Fast transactions** - ~2-3 seconds
4. ‚úÖ **EVM compatible** - D√πng Solidity nh∆∞ Ethereum

**K·∫øt qu·∫£:**
- Certificates c√≥ th·ªÉ search tr√™n **Polygonscan**
- Certificates c√≥ th·ªÉ view tr√™n **OpenSea** (Polygon network)
- Certificates c√≥ th·ªÉ verify c√¥ng khai
- **ƒê·ªß cho 99% use cases**

---

### **Ethereum Mainnet** (N·∫øu c·∫ßn uy t√≠n cao nh·∫•t)

**L√Ω do:**
1. ‚úÖ **Ph·ªï bi·∫øn nh·∫•t** - ƒê∆∞·ª£c support b·ªüi m·ªçi platform
2. ‚úÖ **Uy t√≠n cao nh·∫•t** - "Gold standard" c·ªßa blockchain
3. ‚úÖ **Etherscan** - Explorer ph·ªï bi·∫øn nh·∫•t

**Nh∆∞·ª£c ƒëi·ªÉm:**
- ‚ùå **Gas fees cao** - ~$5-50 per certificate
- ‚ùå **Slow** - ~15 seconds per block

**Ch·ªâ n√™n d√πng n·∫øu:**
- Budget l·ªõn
- C·∫ßn uy t√≠n cao nh·∫•t
- Kh√¥ng quan t√¢m ƒë·∫øn cost

---

## üìä **So S√°nh:**

| Blockchain | Native Explorer | OpenSea Support | Gas Fee | Recommendation |
|------------|----------------|-----------------|---------|----------------|
| **Polygon** | ‚úÖ Polygonscan | ‚úÖ Yes | ~$0.01 | ‚≠ê‚≠ê‚≠ê Best |
| **Ethereum** | ‚úÖ Etherscan | ‚úÖ Yes | ~$5-50 | ‚≠ê‚≠ê Expensive |
| **Base** | ‚úÖ Basescan | ‚úÖ Yes | ~$0.01 | ‚≠ê‚≠ê‚≠ê Good |
| **Arbitrum** | ‚úÖ Arbiscan | ‚úÖ Yes | ~$0.01 | ‚≠ê‚≠ê Good |

---

## ‚úÖ **K·∫øt Lu·∫≠n:**

1. **M·ªói blockchain l√† ri√™ng bi·ªát** - Kh√¥ng th·ªÉ search cross-chain
2. **Ch·ªçn 1 blockchain ph·ªï bi·∫øn nh·∫•t** - Polygon recommended
3. **Certificates s·∫Ω search ƒë∆∞·ª£c tr√™n:**
   - Native explorer (Polygonscan n·∫øu d√πng Polygon)
   - OpenSea (v·ªõi filter ƒë√∫ng network)
   - C√°c platforms kh√°c h·ªó tr·ª£ chain ƒë√≥

4. **Kh√¥ng c·∫ßn deploy tr√™n nhi·ªÅu chains** - Ch·ªâ t·ªën ti·ªÅn v√† ph·ª©c t·∫°p kh√¥ng c·∫ßn thi·∫øt

**Recommendation:** **Polygon Mainnet** - ƒê·ªß cho m·ªçi nhu c·∫ßu, gas fees th·∫•p, ƒë∆∞·ª£c support r·ªông r√£i.

---

## ‚úÖ Gi·∫£i Ph√°p C√¥ng Khai (C√≥ Th·ªÉ Search)

### 1. **Polygon Mainnet** ‚≠ê‚≠ê‚≠ê (Recommended cho Production)

**∆Øu ƒëi·ªÉm:**
- ‚úÖ **C√≥ th·ªÉ verify tr√™n Polygonscan**: https://polygonscan.com/
- ‚úÖ **C√≥ th·ªÉ view tr√™n OpenSea**: https://opensea.io/
- ‚úÖ **Gas fees c·ª±c th·∫•p**: ~$0.001-0.01 per transaction
- ‚úÖ **Fast transactions**: ~2-3 seconds
- ‚úÖ **EVM compatible**: D√πng Solidity nh∆∞ Ethereum
- ‚úÖ **Free RPC**: Public RPC endpoints

**Blockchain Explorers:**
- Polygonscan: https://polygonscan.com/
- OpenSea: https://opensea.io/ (cho NFTs)
- Alchemy: https://polygon-mainnet.g.alchemy.com/

**Cost:**
- Dev/Test: $0 (d√πng Mumbai testnet)
- Production: ~$0.01-0.10 per certificate (gas fees)

---

### 2. **Ethereum Mainnet** ‚≠ê‚≠ê

**∆Øu ƒëi·ªÉm:**
- ‚úÖ **C√≥ th·ªÉ verify tr√™n Etherscan**: https://etherscan.io/
- ‚úÖ **C√≥ th·ªÉ view tr√™n OpenSea**: https://opensea.io/
- ‚úÖ **Ph·ªï bi·∫øn nh·∫•t**: ƒê∆∞·ª£c support b·ªüi m·ªçi platform
- ‚úÖ **Standard**: EIP-721 (NFT standard)

**Nh∆∞·ª£c ƒëi·ªÉm:**
- ‚ùå **Gas fees cao**: ~$5-50 per transaction
- ‚ùå **Slow**: ~15 seconds per block

**Blockchain Explorers:**
- Etherscan: https://etherscan.io/
- OpenSea: https://opensea.io/
- Alchemy: https://eth-mainnet.g.alchemy.com/

**Cost:**
- Dev/Test: $0 (d√πng Sepolia testnet)
- Production: ~$5-50 per certificate (gas fees cao)

---

### 3. **Base Mainnet (Coinbase)** ‚≠ê‚≠ê‚≠ê

**∆Øu ƒëi·ªÉm:**
- ‚úÖ **C√≥ th·ªÉ verify tr√™n Basescan**: https://basescan.org/
- ‚úÖ **C√≥ th·ªÉ view tr√™n OpenSea**: https://opensea.io/
- ‚úÖ **Backed by Coinbase**: Uy t√≠n cao
- ‚úÖ **Gas fees th·∫•p**: ~$0.01-0.10 per transaction
- ‚úÖ **Fast**: ~2 seconds

**Blockchain Explorers:**
- Basescan: https://basescan.org/
- OpenSea: https://opensea.io/
- Coinbase: https://www.coinbase.com/

**Cost:**
- Dev/Test: $0 (d√πng Base Sepolia testnet)
- Production: ~$0.01-0.10 per certificate

---

### 4. **Arbitrum Mainnet** ‚≠ê‚≠ê

**∆Øu ƒëi·ªÉm:**
- ‚úÖ **C√≥ th·ªÉ verify tr√™n Arbiscan**: https://arbiscan.io/
- ‚úÖ **C√≥ th·ªÉ view tr√™n OpenSea**: https://opensea.io/
- ‚úÖ **Layer 2**: Fast & cheap
- ‚úÖ **Gas fees th·∫•p**: ~$0.01-0.10 per transaction

**Blockchain Explorers:**
- Arbiscan: https://arbiscan.io/
- OpenSea: https://opensea.io/

---

## üé® NFT Standard (EIP-721) - ƒê·ªÉ View Tr√™n OpenSea

N·∫øu b·∫°n mu·ªën certificates c√≥ th·ªÉ **view tr√™n OpenSea v√† c√°c NFT marketplaces**, b·∫°n c·∫ßn implement **EIP-721 (ERC-721) standard**.

### **Certificate NFT Contract (EIP-721)**

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.20;

import "@openzeppelin/contracts/token/ERC721/ERC721.sol";
import "@openzeppelin/contracts/token/ERC721/extensions/ERC721URIStorage.sol";
import "@openzeppelin/contracts/access/Ownable.sol";

contract CertificateNFT is ERC721URIStorage, Ownable {
    uint256 private _tokenIdCounter;
    
    struct CertificateData {
        address recipient;
        string courseId;
        string courseName;
        uint256 issuedAt;
        bool revoked;
    }
    
    mapping(uint256 => CertificateData) public certificates;
    mapping(address => uint256[]) public userCertificates;
    
    event CertificateIssued(
        uint256 indexed tokenId,
        address indexed recipient,
        string courseId,
        string courseName
    );
    
    constructor() ERC721("LMS Certificate", "LMSCERT") Ownable(msg.sender) {}
    
    function issueCertificate(
        address recipient,
        string memory courseId,
        string memory courseName,
        string memory tokenURI  // IPFS hash
    ) public onlyOwner returns (uint256) {
        uint256 tokenId = _tokenIdCounter++;
        
        _safeMint(recipient, tokenId);
        _setTokenURI(tokenId, tokenURI);
        
        certificates[tokenId] = CertificateData({
            recipient: recipient,
            courseId: courseId,
            courseName: courseName,
            issuedAt: block.timestamp,
            revoked: false
        });
        
        userCertificates[recipient].push(tokenId);
        
        emit CertificateIssued(tokenId, recipient, courseId, courseName);
        return tokenId;
    }
    
    function verifyCertificate(uint256 tokenId) 
        public 
        view 
        returns (bool, CertificateData memory) 
    {
        CertificateData memory cert = certificates[tokenId];
        bool isValid = cert.recipient != address(0) && !cert.revoked && _ownerOf(tokenId) == cert.recipient;
        return (isValid, cert);
    }
    
    function getUserCertificates(address user) 
        public 
        view 
        returns (uint256[] memory) 
    {
        return userCertificates[user];
    }
    
    function revokeCertificate(uint256 tokenId) public onlyOwner {
        require(certificates[tokenId].recipient != address(0), "Certificate not found");
        certificates[tokenId].revoked = true;
    }
}
```

### **Metadata Format (Cho OpenSea)**

```json
{
  "name": "Python Fundamentals Certificate",
  "description": "Certificate of completion for Python Fundamentals course",
  "image": "ipfs://QmHash...",
  "attributes": [
    {
      "trait_type": "Course",
      "value": "Python Fundamentals"
    },
    {
      "trait_type": "Issued Date",
      "value": "2025-01-15"
    },
    {
      "trait_type": "Course ID",
      "value": "COURSE_001"
    }
  ]
}
```

---

## üîç C√°ch Search/Verify Tr√™n Blockchain Explorers

### **1. Polygonscan (Polygon)**

```
1. V√†o https://polygonscan.com/
2. Search b·∫±ng:
   - Contract address
   - Transaction hash
   - Token ID (n·∫øu l√† NFT)
   - Wallet address
3. Xem transaction history
4. Verify contract source code (n·∫øu c·∫ßn)
```

### **2. Etherscan (Ethereum)**

```
1. V√†o https://etherscan.io/
2. Search t∆∞∆°ng t·ª± Polygonscan
3. C√≥ th·ªÉ verify contract ƒë·ªÉ xem source code
```

### **3. OpenSea (NFT Marketplaces)**

```
1. V√†o https://opensea.io/
2. Search b·∫±ng:
   - Collection address
   - Token ID
   - Wallet address
3. View NFT metadata v√† image
4. Share link c√¥ng khai
```

---

## üìù Implementation Example

### **Backend Service v·ªõi Public Blockchain**

```typescript
import { ethers } from 'ethers';

export class PublicBlockchainService {
  private provider: ethers.Provider;
  private wallet: ethers.Wallet;
  private contract: ethers.Contract;

  constructor() {
    // Polygon Mainnet
    this.provider = new ethers.JsonRpcProvider(
      process.env.POLYGON_RPC_URL || 'https://polygon-rpc.com'
    );
    
    // Ho·∫∑c Ethereum Mainnet
    // this.provider = new ethers.JsonRpcProvider(
    //   process.env.ETHEREUM_RPC_URL || 'https://eth.llamarpc.com'
    // );
    
    this.wallet = new ethers.Wallet(process.env.PRIVATE_KEY!, this.provider);
    
    const contractAddress = process.env.CERTIFICATE_CONTRACT_ADDRESS!;
    const abi = [/* Certificate ABI */];
    this.contract = new ethers.Contract(contractAddress, abi, this.wallet);
  }

  async issueCertificate(
    recipientAddress: string,
    courseId: string,
    courseName: string,
    ipfsHash: string
  ): Promise<{ tokenId: string; txHash: string; explorerUrl: string }> {
    const tx = await this.contract.issueCertificate(
      recipientAddress,
      courseId,
      courseName,
      `ipfs://${ipfsHash}`
    );
    
    const receipt = await tx.wait();
    const tokenId = receipt.logs[0].topics[3]; // Extract t·ª´ event
    
    // Generate explorer URL
    const explorerUrl = this.getExplorerUrl(receipt.hash);
    
    return {
      tokenId: tokenId.toString(),
      txHash: receipt.hash,
      explorerUrl
    };
  }

  getExplorerUrl(txHash: string): string {
    const network = process.env.BLOCKCHAIN_NETWORK || 'polygon';
    
    const explorers = {
      polygon: `https://polygonscan.com/tx/${txHash}`,
      ethereum: `https://etherscan.io/tx/${txHash}`,
      base: `https://basescan.org/tx/${txHash}`,
      arbitrum: `https://arbiscan.io/tx/${txHash}`
    };
    
    return explorers[network] || explorers.polygon;
  }

  getOpenSeaUrl(contractAddress: string, tokenId: string): string {
    const network = process.env.BLOCKCHAIN_NETWORK || 'polygon';
    
    const openseaUrls = {
      polygon: `https://opensea.io/assets/matic/${contractAddress}/${tokenId}`,
      ethereum: `https://opensea.io/assets/ethereum/${contractAddress}/${tokenId}`,
      base: `https://opensea.io/assets/base/${contractAddress}/${tokenId}`,
      arbitrum: `https://opensea.io/assets/arbitrum/${contractAddress}/${tokenId}`
    };
    
    return openseaUrls[network] || openseaUrls.polygon;
  }
}
```

---

## üîó Verification API Endpoint

### **Public Verification Endpoint**

```typescript
// GET /api/blockchain/verify/:tokenId
export async function verifyCertificate(req: Request, res: Response) {
  const { tokenId } = req.params;
  
  const [isValid, certData] = await blockchainService.verifyCertificate(tokenId);
  
  if (isValid) {
    res.json({
      valid: true,
      certificate: certData,
      explorerUrl: blockchainService.getExplorerUrl(/* txHash */),
      openseaUrl: blockchainService.getOpenSeaUrl(contractAddress, tokenId)
    });
  } else {
    res.status(404).json({ valid: false });
  }
}
```

---

## üí∞ Cost Comparison (Production)

| Network | Gas Fee per Certificate | Explorer | OpenSea Support |
|---------|------------------------|----------|-----------------|
| **Polygon** | ~$0.01-0.10 | ‚úÖ Polygonscan | ‚úÖ Yes |
| **Base** | ~$0.01-0.10 | ‚úÖ Basescan | ‚úÖ Yes |
| **Arbitrum** | ~$0.01-0.10 | ‚úÖ Arbiscan | ‚úÖ Yes |
| **Ethereum** | ~$5-50 | ‚úÖ Etherscan | ‚úÖ Yes |

**Recommendation:** **Polygon Mainnet** - Best balance gi·ªØa cost v√† features.

---

## ‚úÖ Checklist ƒê·ªÉ Search ƒê∆∞·ª£c

- [ ] Deploy contract l√™n **public blockchain** (kh√¥ng ph·∫£i local)
- [ ] Implement **EIP-721 standard** (n·∫øu mu·ªën view tr√™n OpenSea)
- [ ] Upload metadata l√™n **IPFS** (cho NFT metadata)
- [ ] Verify contract source code tr√™n blockchain explorer
- [ ] Test search tr√™n explorer v√† OpenSea
- [ ] Generate public verification URLs

---

## üöÄ Quick Start

```bash
# 1. Deploy to Polygon Mumbai (testnet - free)
npx hardhat run scripts/deploy.ts --network mumbai

# 2. Test verify tr√™n Polygonscan
# https://mumbai.polygonscan.com/

# 3. Deploy to Polygon Mainnet (production)
npx hardhat run scripts/deploy.ts --network polygon
```

---

**L∆∞u √Ω:** Ch·ªâ c√≥ **public blockchains** m·ªõi c√≥ th·ªÉ search/verify ƒë∆∞·ª£c tr√™n m·ªçi n·ªÅn t·∫£ng. Local blockchain ch·ªâ d√πng cho development.

